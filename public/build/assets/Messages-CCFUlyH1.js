import{l as $,c as S,o as n,w as i,a as u,b as e,u as p,g as D,f as l,h as c,S as f,e as d,j as M,p as A,q as N,t as o,F as T,m as F,W as m}from"./app-Ce3xCYVm.js";import{_ as V}from"./AuthenticatedLayout-CtVaF7VA.js";import"./ApplicationLogo-0At-enwk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DigitalClock-DrYiqdXr.js";const C={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-6 text-gray-900"},j={class:"flex justify-between items-center mb-6"},P={class:"mb-6 flex space-x-4"},E={class:"flex items-end"},I=["disabled"],K=["disabled"],L={key:0,class:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded"},W={key:1,class:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},q={class:"overflow-x-auto"},O={class:"min-w-full divide-y divide-gray-200"},z={class:"bg-white divide-y divide-gray-200"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},H={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},R={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},X={key:2,class:"text-center py-8 text-gray-500"},oe={__name:"Messages",props:{data:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})}},setup(g){const a=$(""),y=t=>{if(!t||t.length<14)return t;const s=t.substring(0,4),r=t.substring(4,6),v=t.substring(6,8),w=t.substring(8,10),_=t.substring(10,12),k=t.substring(12,14);return`${s}-${r}-${v} ${w}:${_}:${k}`},b=t=>t?(parseInt(t)/100).toLocaleString("en-US",{style:"currency",currency:"NAM"}):"0.00",x=()=>{m.get(route("messages.index"),{date:a.value},{preserveState:!0,preserveScroll:!0})},h=()=>{a.value="",m.get(route("messages.index"),{},{preserveState:!0,preserveScroll:!0})};return(t,s)=>(n(),S(V,null,{default:i(()=>[u(p(D),{title:"Messages"}),e("div",C,[e("div",B,[e("div",U,[e("div",Y,[e("div",j,[s[2]||(s[2]=e("h2",{class:"text-2xl font-bold"},"Message Parser",-1)),u(p(f),{href:t.route("messages.upload"),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},{default:i(()=>s[1]||(s[1]=[d(" Upload File ")])),_:1,__:[1]},8,["href"])]),e("div",P,[e("div",null,[s[3]||(s[3]=e("label",{class:"block text-sm font-medium text-gray-700"},"Filter by Date (YYYYMMDD)",-1)),M(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>a.value=r),type:"text",placeholder:"20100417",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:A(x,["enter"])},null,544),[[N,a.value]])]),e("div",E,[e("button",{onClick:x,disabled:!a.value,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Filter ",8,I),e("button",{onClick:h,disabled:!a.value,class:"ml-2 bg-red-500 hover:bg-red-400 text-gray-800 font-bold py-2 px-4 rounded"}," Clear ",8,K)])]),t.$page.props.flash.success?(n(),l("div",L,[s[4]||(s[4]=e("strong",null,"Success!",-1)),d(" "+o(t.$page.props.flash.success.message)+" ",1),s[5]||(s[5]=e("br",null,null,-1)),d("Processed "+o(t.$page.props.flash.success.count)+" messages from "+o(t.$page.props.flash.success.filename),1)])):c("",!0),t.$page.props.flash.error?(n(),l("div",W,[s[6]||(s[6]=e("strong",null,"Error!",-1)),d(" "+o(t.$page.props.flash.error),1)])):c("",!0),e("div",q,[e("table",O,[s[8]||(s[8]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Transaction ID "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Transaction Time "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Transaction Amount "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Phone Number "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",z,[(n(!0),l(T,null,F(g.data,r=>(n(),l("tr",{key:r.transaction_id},[e("td",G,o(r.transaction_id)+"... ",1),e("td",H,o(y(r.date)),1),e("td",J,o(b(r.amount)),1),e("td",Q,o(r.mobile_number),1),e("td",R,[u(p(f),{href:t.route("messages.show",r.transaction_id),class:"text-indigo-600 hover:text-indigo-900"},{default:i(()=>s[7]||(s[7]=[d(" View Details ")])),_:2,__:[7]},1032,["href"])])]))),128))])])]),g.data.length===0?(n(),l("div",X," No messages found. Upload a file to get started. ")):c("",!0)])])])])]),_:1}))}};export{oe as default};
