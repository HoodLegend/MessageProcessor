import{_}from"./AuthenticatedLayout-Gdc4K1M0.js";import{i as D,c as $,o as r,w as d,a as u,b as t,u as g,g as N,S as T,e as M,t as l,n as S,f as x,F as A,m as B}from"./app-DhOVmzsU.js";import"./ApplicationLogo-B4lVoZYg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DigitalClock-BYiD2t6T.js";const C={class:"py-12"},P={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},R={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},E={class:"p-6 text-gray-900"},L={class:"flex justify-between items-center mb-6"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={class:"bg-gray-50 rounded-lg p-4"},V={class:"space-y-3"},O={class:"mt-1 text-sm text-gray-900 font-mono break-all"},U={class:"mt-1 text-sm text-gray-900"},j={class:"mt-1 text-sm text-gray-900"},K={class:"bg-blue-50 rounded-lg p-4"},X={class:"space-y-3"},q={class:"mt-1 text-lg font-bold text-blue-900"},z={class:"mt-1 text-sm text-blue-900 font-mono"},G={class:"bg-green-50 rounded-lg p-4"},H={class:"space-y-3"},J={class:"mt-1 text-sm text-green-900"},Q={class:"mt-1 text-sm text-green-900"},W={class:"mt-1 text-sm text-green-900"},Y={class:"bg-purple-50 rounded-lg p-4"},Z={class:"space-y-3"},tt={class:"mt-1 text-sm text-purple-900"},et={class:"mt-1 text-sm text-purple-900"},st={class:"mt-1 text-sm text-purple-900 font-mono"},lt={class:"mt-6 bg-gray-100 rounded-lg p-4"},nt={class:"bg-white p-3 rounded border font-mono text-sm overflow-x-auto"},ot={class:"mt-2 text-xs text-gray-600"},at={class:"mt-6 bg-yellow-50 rounded-lg p-4"},rt={class:"overflow-x-auto"},it={class:"min-w-full divide-y divide-yellow-200"},mt={class:"divide-y divide-yellow-200"},dt={class:"px-3 py-2 text-sm font-medium text-yellow-900"},ut={class:"px-3 py-2 text-sm text-yellow-800"},gt={class:"px-3 py-2 text-sm text-yellow-800"},xt={class:"px-3 py-2 text-sm text-yellow-900 font-mono"},vt={__name:"MessageDetails",props:{message:{type:Object,required:!0}},setup(n){const c=n,b=D(()=>[{name:"Timestamp",start:0,length:14},{name:"Amount",start:14,length:10},{name:"Reference",start:24,length:17},{name:"Date",start:41,length:8},{name:"Code",start:49,length:15},{name:"Transaction Date",start:64,length:14},{name:"Service",start:78,length:10},{name:"Provider",start:88,length:8},{name:"Status",start:96,length:3}].map(e=>({name:e.name,position:`${e.start}-${e.start+e.length-1}`,length:e.length,value:c.message.raw_message.substring(e.start,e.start+e.length).trim()}))),i=s=>{if(!s||s.length<14)return s;const e=s.substring(0,4),o=s.substring(4,6),a=s.substring(6,8),h=s.substring(8,10),w=s.substring(10,12),k=s.substring(12,14);return`${e}-${o}-${a} ${h}:${w}:${k}`},m=s=>{if(!s)return"N/A";if(s.includes("T"))return new Date(s).toLocaleString();if(s.length===8){const e=s.substring(0,4),o=s.substring(4,6),a=s.substring(6,8);return`${e}-${o}-${a}`}return s},f=s=>!s||s.length<14?s:i(s),p=s=>s?(parseInt(s)/100).toLocaleString("en-US",{style:"currency",currency:"USD"}):"$0.00",y=s=>({XNN:"bg-red-100 text-red-800",OK:"bg-green-100 text-green-800",PEN:"bg-yellow-100 text-yellow-800",ERR:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800",v=s=>({XNN:"Failed/Declined",OK:"Success",PEN:"Pending",ERR:"Error"})[s]||"Unknown";return(s,e)=>(r(),$(_,null,{default:d(()=>[u(g(N),{title:"Message Details"}),t("div",C,[t("div",P,[t("div",R,[t("div",E,[t("div",L,[e[1]||(e[1]=t("h2",{class:"text-2xl font-bold"},"Message Details",-1)),u(g(T),{href:s.route("messages.index"),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:d(()=>e[0]||(e[0]=[M(" Back to Messages ")])),_:1,__:[0]},8,["href"])]),t("div",F,[t("div",I,[e[5]||(e[5]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-800"},"Message Information",-1)),t("div",V,[t("div",null,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-gray-600"},"Message ID",-1)),t("p",O,l(n.message.message_id),1)]),t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-600"},"Line Number",-1)),t("p",U,l(n.message.line_number),1)]),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-600"},"Parsed At",-1)),t("p",j,l(m(n.message.parsed_at)),1)])])]),t("div",K,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold mb-4 text-blue-800"},"Transaction Details",-1)),t("div",X,[t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-blue-600"},"Amount",-1)),t("p",q,l(p(n.message.amount)),1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-blue-600"},"Reference",-1)),t("p",z,l(n.message.reference),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-blue-600"},"Status",-1)),t("span",{class:S([y(n.message.status),"mt-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},l(n.message.status)+" - "+l(v(n.message.status)),3)])])]),t("div",G,[e[13]||(e[13]=t("h3",{class:"text-lg font-semibold mb-4 text-green-800"},"Timestamp Information",-1)),t("div",H,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-green-600"},"Message Timestamp",-1)),t("p",J,l(i(n.message.timestamp)),1)]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-green-600"},"Date",-1)),t("p",Q,l(m(n.message.date)),1)]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-green-600"},"Transaction Date",-1)),t("p",W,l(f(n.message.transaction_date)),1)])])]),t("div",Y,[e[17]||(e[17]=t("h3",{class:"text-lg font-semibold mb-4 text-purple-800"},"Service Information",-1)),t("div",Z,[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-purple-600"},"Service",-1)),t("p",tt,l(n.message.service),1)]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-purple-600"},"Provider",-1)),t("p",et,l(n.message.provider),1)]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-purple-600"},"Code",-1)),t("p",st,l(n.message.code),1)])])])]),t("div",lt,[e[18]||(e[18]=t("h3",{class:"text-lg font-semibold mb-3 text-gray-800"},"Raw Message",-1)),t("div",nt,l(n.message.raw_message),1),t("div",ot," Length: "+l(n.message.raw_message.length)+" characters ",1)]),t("div",at,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold mb-3 text-yellow-800"},"Field Breakdown",-1)),t("div",rt,[t("table",it,[e[19]||(e[19]=t("thead",null,[t("tr",null,[t("th",{class:"px-3 py-2 text-left text-xs font-medium text-yellow-600 uppercase"},"Field"),t("th",{class:"px-3 py-2 text-left text-xs font-medium text-yellow-600 uppercase"},"Position"),t("th",{class:"px-3 py-2 text-left text-xs font-medium text-yellow-600 uppercase"},"Length"),t("th",{class:"px-3 py-2 text-left text-xs font-medium text-yellow-600 uppercase"},"Value")])],-1)),t("tbody",mt,[(r(!0),x(A,null,B(b.value,o=>(r(),x("tr",{key:o.name},[t("td",dt,l(o.name),1),t("td",ut,l(o.position),1),t("td",gt,l(o.length),1),t("td",xt,l(o.value),1)]))),128))])])])])])])])])]),_:1}))}};export{vt as default};
