import{l as k,c as $,o as n,w as p,a as g,b as e,u as x,g as S,f as l,h as i,S as M,e as d,j as D,p as N,q as T,t as o,F as A,m as F,W as b}from"./app-sJ2j0FCk.js";import{_ as C}from"./AuthenticatedLayout-B4nLZa-E.js";import"./ApplicationLogo-BRTkzaPV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DigitalClock-B10GbJG5.js";const V={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-6 text-gray-900"},j={class:"flex justify-between items-center mb-6"},P={class:"mb-6 flex space-x-4"},E={class:"flex items-end"},I=["disabled"],K=["disabled"],L={key:0,class:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded"},W={key:1,class:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},q={class:"overflow-x-auto"},O={class:"min-w-full divide-y divide-gray-200"},z={class:"bg-white divide-y divide-gray-200"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},H={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},R={key:2,class:"text-center py-8 text-gray-500"},re={__name:"Messages",props:{data:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})}},setup(u){const a=k(""),f=t=>{if(!t||t.length<14)return t;const s=t.substring(0,4),r=t.substring(4,6),h=t.substring(6,8),v=t.substring(8,10),_=t.substring(10,12),w=t.substring(12,14);return`${s}-${r}-${h} ${v}:${_}:${w}`},y=t=>t?(parseInt(t)/100).toLocaleString("en-US",{style:"currency",currency:"NAM"}):"0.00",c=()=>{b.get(route("messages.index"),{date:a.value},{preserveState:!0,preserveScroll:!0})},m=()=>{a.value="",b.get(route("messages.index"),{},{preserveState:!0,preserveScroll:!0})};return(t,s)=>(n(),$(C,null,{default:p(()=>[g(x(S),{title:"Messages"}),e("div",V,[e("div",B,[e("div",U,[e("div",Y,[e("div",j,[s[2]||(s[2]=e("h2",{class:"text-2xl font-bold"},"Message Parser",-1)),g(x(M),{href:t.route("messages.upload"),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},{default:p(()=>s[1]||(s[1]=[d(" Upload File ")])),_:1,__:[1]},8,["href"])]),e("div",P,[e("div",null,[s[3]||(s[3]=e("label",{class:"block text-sm font-medium text-gray-700"},"Filter by Date (YYYYMMDD)",-1)),D(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>a.value=r),type:"text",placeholder:"20100417",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onKeyup:N(c,["enter"])},null,544),[[T,a.value]])]),e("div",E,[e("button",{onClick:c,disabled:!a.value,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Filter ",8,I),e("button",{onClick:m,disabled:!a.value,class:"ml-2 bg-red-500 hover:bg-red-400 text-gray-800 font-bold py-2 px-4 rounded"}," Clear ",8,K)])]),t.$page.props.flash.success?(n(),l("div",L,[s[4]||(s[4]=e("strong",null,"Success!",-1)),d(" "+o(t.$page.props.flash.success.message)+" ",1),s[5]||(s[5]=e("br",null,null,-1)),d("Processed "+o(t.$page.props.flash.success.count)+" messages from "+o(t.$page.props.flash.success.filename),1)])):i("",!0),t.$page.props.flash.error?(n(),l("div",W,[s[6]||(s[6]=e("strong",null,"Error!",-1)),d(" "+o(t.$page.props.flash.error),1)])):i("",!0),e("div",q,[e("table",O,[s[7]||(s[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Transaction ID "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Transaction Time "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Transaction Amount "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Phone Number ")])],-1)),e("tbody",z,[(n(!0),l(A,null,F(u.data,r=>(n(),l("tr",{key:r.transaction_id},[e("td",G,o(r.transaction_id)+"... ",1),e("td",H,o(f(r.date)),1),e("td",J,o(y(r.amount)),1),e("td",Q,o(r.mobile_number),1)]))),128))])])]),u.data.length===0?(n(),l("div",R," No messages found. Upload a file to get started. ")):i("",!0)])])])])]),_:1}))}};export{re as default};
